---
title: rainboy的解析
author: rainboy
date: "2024-02-19 10:49"
update: "2024-02-19 10:49"
home: https://github.com/rainboylvx
top: true
---

## 解析

当询问q只有一个元素的时候,显然只要看这个字符在s1,s2是出现的次数是否一样


我有两个元素的时候,a,b,呢

- a,b分分别在两个字符串s1,s2中是否出现的次数一样
- 显然需要考虑a,b出现的顺序


`aab`,`aba`虽然出现的次数一样,但顺序不一样.如何考虑顺序呢?

- `abab`
- `aabb`

考虑最后一个b,前面a的数量一样,去除这两个b,问题变成了新的问题`aba`,`aab`,这显然是一个线性dp,

- 需要记录每个位置的上一个位置出现的位置
- 到每个位置之间的的18字符,每个字符出现的位置

对于两个字符的q,时间为$O(n)$

🙂,额,又想一了一下,根本一需要那么复杂,直接扫一遍,从s1,s2里提取只包含两个字符的两个字符串a1,a2,然后比较两个字符串a1,a2是否一样.
时间为$18^2 \ times 10 ^ 5$ ,可以撑住.

接下这个问题这变成一个经典的组合问题: 整个问题的成立,那么任意两个元素也成立.

下面使用离散数学的语言来描述: 设关系$xRy$ :表示字符x,y符于题目的描述,即从s1,s2分别提取的x,y形成的新的两个字符串a1,a2等于.


q是否是多个字符组合的字符串

设,命题$A$:从s1,s2中按q中的字符串提取的子串a1,a2相等

命题$B$:q中任意取两个元素x,y,满足$xRy$,$\forall x,y \in q \to xRy$

证明:


证明: $A \Leftrightarrow B$

先证明必要性 : 显然$A \to B$是成立的,这里可以使用反证法.

再证明充分性: $B \to A$,一个命题与它的逆否命令是等价的

所以只要证明$\neg A \to \neg B$


$$
\begin{aligned}
\neg A \to \neg( \forall x,y \in q \to xRy) \\
\neg A \to (\exists x,y \in q \to x \cancel{R} y )\\
\end{aligned}
$$

这个显然也是成立的.

所以$A \Leftrightarrow B$,A与B是等价的.

我们成功的把一个整体的问题转化成了任意两个元素之间的关系.

如果求任意两个元素呢,这显然只要两重`for`循环就可以了.



## 代码

```cpp
<%- include("../std.cpp") %>
```

