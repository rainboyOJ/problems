---
title: "rainboy的解析"
date: "2024-02-09 11:08"
update: "2023-02-09 11:08"
author: rainboy
home:  https://github.com/rainboylvx
top: true
---

## 解析
这个题目用的是排列组合的相关知识,在高中高二下学期学习.

一个长度为$n$的序列,共有多少个子集?

$$
C_n^0+ C_n^1+ \cdots + C_n^n = \sum_{i=0}^n C_n^i = 2^n
$$

那么这些子集中,第一人元素$a_1$,出现过多少次?这个问题显然等价于含有$a_1$的子集有多少个.

使用数学的化归思维:
1. 从$n$个元素里,把$a_1$拿走,剩余$n-1$个元素
2. 在剩余的$n-1$个元素里,任意形成子集$x_i$,显然有$2^{n-1}$个
3. 然后把拿走的$a_1$放到每个$x_i$子集里,

这样就保证每个子集都有$a_1$里,所以得出含有$a_1$的元素共有$2^{n-1}$个,同理$a_i$元素在所有的子集中也出现了$2^{n-1}$个

所以最终的答案为

$$
\begin{aligned}
ans &= 2^{n-1}a_1 + 2^{n-1}a_2 + \cdots + 2^{n-1}a_n \\
&= 2^{n-1}(a_1 +a_2 + \cdots + a^n) \\
&= 2^{n-1}\sum_{i=1}^na_i
\end{aligned}
$$

```cpp
<%- include("./rainboy.cpp") _%>
```


